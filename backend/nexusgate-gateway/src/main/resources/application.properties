spring.application.name=nexusgate-gateway
server.port=8081

# Exclude DataSource auto-configuration (Gateway doesn't need DB)
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration

# Spring Cloud Gateway
spring.cloud.gateway.enabled=true
spring.cloud.gateway.discovery.locator.enabled=false
# Allow global filters to handle routing without predefined routes
spring.cloud.gateway.httpclient.wiretap=false
spring.cloud.gateway.httpserver.wiretap=false

# Redis Configuration
spring.data.redis.host=${SPRING_DATA_REDIS_HOST:localhost}
spring.data.redis.port=${SPRING_DATA_REDIS_PORT:6379}
spring.data.redis.database=0
spring.data.redis.timeout=3000ms

# Make Redis health check non-critical (gateway can start without Redis)
management.health.redis.enabled=false

# JWT Configuration
jwt.secret=${JWT_SECRET:your-256-bit-secret-key-change-this-in-production-must-be-at-least-32-chars}

# Logging
logging.level.root=INFO
logging.level.com.nexusgate.gateway=DEBUG
logging.level.org.springframework.cloud.gateway=INFO
logging.level.reactor.netty=INFO
logging.level.io.lettuce.core=WARN
logging.level.org.springframework.data.redis=WARN

# WebClient Configuration
spring.codec.max-in-memory-size=10MB

# Config Service URL (used in GatewayConfig)
#config.service.url=${CONFIG_SERVICE_URL:http://localhost:8082}
config.service.url=${CONFIG_SERVICE_URL}

# Actuator endpoints
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always